# QA Retrieval System for Medical Technology Company

## Project Overview
This project focuses on building a question-answering (QA) retrieval system to help customers find information about ultrasound probes and systems. The goal is to provide a comprehensive solution that can answer a variety of questions related to probe and system compatibility, specifications, and availability.

## Data
The project utilizes two datasets that were created from a portion of the company's catalog:

1. **Catalog - Probes.csv**: This dataset contains information about various ultrasound probes, including the probe model, manufacturer, compatible systems, array type, frequency range, and stock availability.
2. **systems.csv**: This dataset contains information about different ultrasound systems, including the system model, manufacturer, and compatible probes.

## Methodology
The main steps involved in this project are:

1. **Data Preprocessing**:
   - Load the datasets and perform various data cleaning and transformation tasks.

2. **Generating Probe and System Information**:
   - Generate descriptions, questions, labels, and tags for each probe and system based on the data, creating a unified DataFrame `documents_df` containing all the generated information.

3. **Embedding Generation**:
   - Load and utilize three pre-trained Sentence Transformer models to generate embeddings for the content and questions in the `documents_df` DataFrame:
     1. `multi-qa-mpnet-base-dot-v1`: A model trained on a large-scale multi-domain question-answering dataset using a dot-product loss.
     2. `all-mpnet-base-v2`: A general-purpose sentence embedding model based on the MPNet architecture, trained on a diverse set of data.
     3. `multi-qa-distilbert-cos-v1`: A distilled version of the `multi-qa-mpnet-base-dot-v1` model, using a cosine-similarity loss.
   - Store the embeddings generated by each model in a dictionary `embeddings` for further use.

4. **Reciprocal Rank (RR) Calculation**:
   - Implement a function `compute_rr` to calculate the reciprocal rank of the relevant documents for each question, using the generated embeddings and different ranking methods (dot score and cosine similarity). Results are storedin a dictionary `results`.

5. **Visualization and Analysis**:
   - Analyze the RR distribution for different question types (related to probes and systems) across the various models.
   - Create boxplots to visualize the RR distribution and perform statistical analysis using Tukey's Honest Significant Difference (HSD) test and create bar charts to identify significant differences between the models.

## Dependencies
- Python 3.x
- pandas
- transformers
- torch
- sklearn
- matplotlib
- sentence-transformers
- statsmodels